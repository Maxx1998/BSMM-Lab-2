---
title: "BSMM-lab-2"
subtitle: "BSMM 8740 Fall 2023"
author: "Mahroosa Ibtesaam"
date: "25-09-2023"
format: html
editor: visual
self-contained: true
---

## Setup

Load packages and data:

```{r}
install.packages("tidymodels")
install.packages("gt")
install.packages("gtExtras")
install.packages("DataExplorer")
```

```{r}
library(magrittr)     # the pipe
```

```{r}
library(tidyverse)    # for data wrangling + visualization
```

```{r}
library(tidymodels)   # for modeling
```

```{r}
library(gt)           # for making display tables
```

```{r}
library(gtExtras)     # helper functions for beautiful tables
```

```{r}
library(DataExplorer) 
```

```{r}
the_tate <- readr::read_delim("data/the-tate-collection.csv", ";", escape_double = FALSE, trim_ws = TRUE)
the_tate_artists <- readr::read_csv("data/the-tate-artists.csv")
```

## Exercises

### Exercise 1

```{r}
dplyr::glimpse(the_tate)
```

```{r}
dplyr::glimpse(the_tate_artists)
```

```{r}
artists<- the_tate |>
  dplyr::select(artist)  
dplyr::distinct(artists)
```

```{r}
max(the_tate_artists$yearOfBirth, na.rm = T)
```

```{r}
min(the_tate_artists$yearOfDeath, na.rm=T)
```

```{r}
max(the_tate$acquisitionYear, na.rm=T)
```

```{r}
min(the_tate$acquisitionYear, na.rm=T)
```

```{r}
DataExplorer::introduce(the_tate)
```

```{r}
DataExplorer::introduce(the_tate_artists)
```

```{r}
DataExplorer::plot_missing(the_tate)
```

```{r}
DataExplorer::plot_missing(the_tate_artists)
```

The `the_tate` dataset has 3336 unique artists who worked from 1543 to 2004. The works were acquired between the years 1823 and 2013.

### Exercise 2

```{r}
missing_dates<-
  dplyr::filter(the_tate, is.na(the_tate$year))
  nrow(missing_dates)
```

```{r}
missing_dates
```

```{r}
count_missdates <- sum(is.na(the_tate$year))
count_missdates
```

```{r}
test1 <- missing_dates |>
  dplyr::distinct(missing_dates$artist)
  nrow(test1)
```

```{r}
test1
```

```{r}
missing_year_count <- the_tate|>
  dplyr::filter(is.na(year)) 
missing_year_count <- missing_year_count |>
  group_by(artist) |>
  summarise(missing_years = sum(is.na(year))) |>
  arrange(desc(missing_years))
missing_year_count <- missing_year_count |>
  mutate(percentage = (missing_years / count_missdates) * 100) |>
  mutate(cumulative_percentage = cumsum(percentage))
artists_50percent <- min(which (missing_year_count$cumulative_percentage >= 50))
artists_50percent
```

```{r}

```

How number of works with missing dates is 5397

The number of artists whose works have missing dates is 461 .

It would require resolving missing year data for only 11 artists resolve resolve at least 50% of the missing data.

The missing year data likely to be classified as MAR.

### Exercise 3

The artist with the most works in the Tate collection is \_\_\_.

The artist with the tenth-most works in the Tate collection is \_\_\_.

### Exercise 4

The artist with the greatest number of works in the Tate collection represent \_\_\_% of the total number of works

### Exercise 5

There are \_\_ duplicate artist-title pairs

### Exercise 6

The artist with the largest work in the tate collection is \_\_\_

The artist with the smallest work in the collection is \_\_\_. The smallest work has area \_\_\_ $\text{cm}^2$

### Exercise 7

...

### Exercise 8

The annual return in the SPX price in 2020 was \_\_\_%.

The corresponding price volatility was \_\_\_%.

### Exercise 9

The period volatility was \_\_\_.\_%

### 
